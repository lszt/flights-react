box: node:4
# Defining the dev pipeline
dev:
  steps:
    - npm-install
    - npm-test
    - internal/watch:
        code: npm start
        reload: true
build:
  steps:
    - npm-install
    - npm-test
    - script:
        code: npm run build
deploy:
  steps:
    - script:
        code: |-
          npm install -g firebase-tools
          firebase use $FIREBASE_PROJECT --token $FIREBASE_TOKEN
          firebase deploy --token $FIREBASE_TOKEN
